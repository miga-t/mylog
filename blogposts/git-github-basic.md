---
title: "Git·GitHubの基礎知識"
date: "2023-05-10"
---

## Git の基本概念

-   Git は、分散バージョン管理システム
-   バージョン管理システムは、大別して分散型と集中型がある
    -   バージョン管理システムの基本機能は、ソースコード・ドキュメント・画像など、様々な電子ファイルの編集履歴を記録・管理すること
    -   バージョン管理システムは、ファイルの状態をバージョンとしてリポジトリに記録する。
    -   ファイルの状態（バージョン）をリポジトリに格納する操作をチェックインとよぶ。
    -   リポジトリから特定のバージョンのファイルを取り出すことをチェックアウトと呼ぶ。
-   Git は、ディレクトリツリーの状態を一つのバージョンとしてリポジトリに格納する。この操作は、コミット(チェックイン)と呼ばれる
-   Git では、コミットしたディレクトリツリーの状態のこともコミットと呼ぶ。

## Git の構成要素

-   作業ツリーとは、開発者がソースコードを編集する場所
-   ステージングエリアとは、コミットする前に実際にコミットするディレクトリツリーを決める場所
-   Git は分散バージョン管理システムであるので、プロジェクトのリポジトリを複数箇所で管理する事ができる
-   Git は、リモートサーバに置いた裸のリポジトリをローカルに複製し、このローカルリポジトリを編集し、リモートリポジトリに変更点を反映していく

以下は、Git の概念図

![Git Image](https://storage.googleapis.com/mylog13/Git-image1.png)

## Git のコマンド

### Git コマンドの構文

```
git [サブコマンド]
```

-   例 1 git help [サブコマンド]
-   例 2 git config --global -l
    -   git help はサブコマンドの詳細を調べるために使用する
    -   [--global]オプションは、~/.gitconfig の各項目の変数の値を設定
        -   `git config --global init.defaultBranch main`は初期ブランチの名前を main にする
    -   [--local]オプションは、 .git/config の各項目の変数の値を設定
        -   git config --local -l
-   例 3 git --version

    -   バージョンの確認

### リポジトリをつくる

```
git init
```

-   カレントディレクトリに.git ディレクトリを作成する
-   .git ディレクトリに、ステージングエリア・リポジトリ等の情報が格納されている

### ステージングエリアにステージする

```
git add [ファイル・ディレクトリ]
```

`git add .`で作業ツリー内のすべてディレクトリ・ファイルをステージする

### コミットする

```
git commit
```

-   ステージングエリアをリポジトリの現在ブランチの先端にコミットする
-   コミットすると設定ファイルの core.editor 変数に設定したエディタが開く
    -   git config --global core.editor code --wait で vscode が開くように設定できる
-   開いたエディタで、コミットメッセージを入力する。エディタを閉じるとコミットがつくられ、リポジトリに格納される
-   コミットを特定するために、各コミットにハッシュが割り振られている
    -   ハッシュの例:b2e397103e921c4b36a5856646e2d6c8e967ecc6
    -   ハッシュは、git log で確認できる
-   Git は、現在の最新のコミットを指すポインタをもつ。このポインタを HEAD と呼ぶ
-   HEAD は、コミットするたびにその新しいコミットを指すように移動する
-   HEAD が指していたコミットを親コミット、新しいコミットを子コミットと呼ぶ
-   コミットを続けると以下のような構造ができる。これをコミットグラフと呼ぶ

![commit graph](https://storage.googleapis.com/mylog13/Git-image2.png)

-   子コミットは親コミットのハッシュをもつ

### 履歴を見る

```
git log
```

### 差分を見る

```
git status
```

-   git status は、HEAD が指すコミット・ステージングエリア・作業ツリーの差分を表示する
-   差分を見るコマンドは、git diff,git show などがある

### git の管理からファイルを除外する

-   .gitignore は、git の管理から除外するファイルを設定する

## ブランチ

![git branch image](https://storage.googleapis.com/mylog13/Git-image3.png)

-   ブランチは、履歴の枝分かれ
-   ブランチは、一連のコミットの先端を指すポインタ
-   ブランチは、その一連のコミットの履歴全体を指す場合もある
-   上の画像において、HEAD が main ブランチ（ポインタ）を指しているので、今コミットしようとしている最新のコミットは main ブランチに接続される。
-   別ブランチの変更履歴を HEAD が指すブランチ（カレントブランチ）に取り込むことをマージという
